(window["webpackJsonpdefesa-civil-contagem"]=window["webpackJsonpdefesa-civil-contagem"]||[]).push([[0],{227:function(e,t,a){e.exports=a.p+"static/media/logo.ff2997c2.jpg"},229:function(e,t,a){e.exports=a.p+"static/media/background.05fbaa3b.png"},253:function(e,t,a){e.exports=a(418)},418:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),l=a(29),i=a(489),s=a(213),u=(a(102),a(77)),m=a(468),f=a(470),d=a(429),p=a(216),h=a.n(p),b=a(215),g=a.n(b),E=a(214),v=a.n(E),O=a(81),j=a(18),y=a.n(j),w=a(30),x=a(17),C=a(210),N=Object(C.create)({baseURL:"http://167.172.117.77:3001"}),k=a(78);function P(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),r=Object(x.a)(a,2),o=r[0],c=r[1];return[o,function(t){try{var a=t instanceof Function?t(o):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D="AIzaSyCzxKqnfjCJRVO6LsB8JYzcVXZVhbCUsmA",F="defesa-civil-contagem-54fe7.firebaseapp.com",I="defesa-civil-contagem-54fe7",A="1:985053180633:web:4d105c6bc93f1ae8e7c4c8";k.initializeApp({apiKey:D,authDomain:F,projectId:I,appID:A});var B=Object(n.createContext)();function Y(e){var t=e.children,a=function(){var e=Object(u.f)(),t=P("user",null),a=Object(x.a)(t,2),r=a[0],o=a[1],c=P("usuario",null),l=Object(x.a)(c,2),i=l[0],s=l[1],m=P("idToken",null),f=Object(x.a)(m,2),d=f[0],p=f[1],h=P("apiKey",null),b=Object(x.a)(h,2),g=b[0],E=b[1],v=Object(n.useState)(!1),O=Object(x.a)(v,2),j=O[0],C=O[1],S=function(){var t=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",D().then((function(t){p(t),N.post("/auth/google/login2",{},{headers:{authorization:"Bearer ".concat(t)}}).then((function(t){t.data&&"Usu\xe1rio n\xe3o cadastrado"===t.data.mensagem||200!=t.status?(e.push("/defesa-civil-contagem/"),I(),A()):t.data&&t.data.api_key&&(E(t.data.api_key),s(t.data.usuario),e.push("/defesa-civil-contagem/Mapa"))}))})));case 4:t.prev=4,t.t0=t.catch(0),console.error("Houve um problema na autentica\xe7\xe3o: ".concat(t.t0));case 7:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k.auth.GoogleAuthProvider,e.abrupt("return",k.auth().signInWithPopup(t).then((function(e){return console.log(e),o(e.user),e.credential.idToken})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.post("/auth/google/cadastro",W({},t),{headers:{authorization:"Bearer ".concat(d)}});case 3:a=e.sent,console.log(a),"Usu\xe1rio n\xe3o cadastrado"===a.data&&console.log("n\xe3o cadastrado."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){return k.auth().signOut().then((function(){p(null),E(null),s(null),o(null)}))},A=function(){C(!j)};return Object(n.useEffect)((function(){var e=k.auth().onAuthStateChanged((function(e){e?o(e):(o(!1),s(!1))}));return function(){return e()}}),[]),{user:r,usuario:i,idToken:d,apiKey:g,login:D,loginUsuario:S,showWarning:j,signup:function(e){return F(e)},signout:I,sendPasswordResetEmail:function(e){return k.auth().sendPasswordResetEmail(e).then((function(){return!0}))},toggleShowWarning:A,confirmPasswordReset:function(e,t){return k.auth().confirmPasswordReset(e,t).then((function(){return!0}))}}}();return n.createElement(B.Provider,{value:a},t)}var T=function(){return Object(n.useContext)(B)};var M=a(467),R=a(181);function z(e){var t=e.icon,a=e.primary,n=e.to,o=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(l.b,Object.assign({to:n},e,{innerRef:t}))}))}),[n]);return r.a.createElement("li",null,r.a.createElement(d.a,{button:!0,component:o},r.a.createElement(M.a,null,t),r.a.createElement(R.a,{primary:a})))}r.a.forwardRef((function(e,t){return r.a.createElement(l.b,Object.assign({},e,{innerRef:t}))}));var V=a(471),H=Object(s.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar}}));function K(){var e=H(),t=T();return t.usuario&&t.apiKey?r.a.createElement(m.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(f.a,null,r.a.createElement(z,{to:"/Mapa",primary:"Mapa",icon:r.a.createElement(v.a,null)}),r.a.createElement(z,{to:"/Avisos",primary:"Avisos",icon:r.a.createElement(g.a,null)})),r.a.createElement(V.a,null),r.a.createElement(f.a,{style:{marginTop:"auto"}},r.a.createElement(d.a,{style:{cursor:"pointer"},onClick:function(){t.signout()}},r.a.createElement(M.a,null,r.a.createElement(h.a,null)),r.a.createElement(R.a,{primary:"Sair"})))):null}var _=a(472),L=a(473),U=a(182),J=a(64),q=Object(s.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"#f46524",height:"10%"},toolBar:{display:"flex",justifyContent:"space-between"},link:{color:"white"}}}));function G(e){var t=q(),a=T();return a.usuario&&a.apiKey?r.a.createElement(_.a,{position:"fixed",className:t.appBar},r.a.createElement(U.a,{className:t.toolBar},r.a.createElement(J.a,{variant:"h6",noWrap:!0},r.a.createElement(L.a,{component:l.b,to:"/",className:t.link},"Defesa Civil de Contagem")))):null}var Z=a(201),Q=a(217),X=a.n(Q),$=a(94),ee=a.n($),te=a(225),ae=a.n(te),ne=Object(s.a)({margin:{margin:"auto",marginTop:"15rem",marginLeft:"50%"}});function re(){var e=ne();return r.a.createElement("div",{className:e.margin},r.a.createElement(ae.a,{color:"#FF8500"}))}function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(){var e=Object(w.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/admin/avisos/".concat(t),{},{headers:{authorization:"Bearer ".concat(a)}}).then((function(e){return 200==e.status&&e.data?e.data:null}));case 3:return(n=e.sent).fotos.length>0&&n.fotos.forEach((function(e){e.src=se(e.url,a)})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/admin/avisos",{},{headers:{authorization:"Bearer ".concat(t)}}).then((function(e){return 200==e.status&&e.data?e.data:null}));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(w.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("".concat(t),{},{headers:{authorization:"Bearer ".concat(a)}}).then((function(e){return 200==e.status&&e.data?e.data:null}));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.put("/admin/avisos/".concat(t.id),ce({},t));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),me=Object(s.a)({root:{borderRadius:"0px",height:"100%",width:"100%"},tableWrapper:{overflow:"auto"}});function fe(){var e=Object(n.useState)(null),t=Object(x.a)(e,2),a=t[0],r=t[1],o=me(),c=Object(n.useState)(0),l=Object(x.a)(c,2),i=(l[0],l[1],Object(n.useState)(10)),s=Object(x.a)(i,2),m=(s[0],s[1],T()),f=Object(u.f)();if(Object(n.useEffect)((function(){return function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(m.apiKey);case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){r(null)}}),[]),a&&a.length>0){var d=[];return a.sort((function(e,t){if(e.status>t.status)return 1})),a.forEach((function(e){d.push({id:e.id,tipo:e.tipo,data:ee()(e.dataHora).format("MM/DD/YYYY"),bairro:e.endereco.bairro,status:e.status,acao:"Pendente"==e.status?n.createElement(Z.a,{variant:"contained",color:"primary",className:o.button,onClick:function(){f.push("/defesa-civil-contagem/ProcessarAviso/".concat(e.id))}},"Processar"):n.createElement(Z.a,{variant:"contained",color:"secondary",className:o.button,onClick:function(){f.push("/defesa-civil-contagem/DetalhesAviso/".concat(e.id))}},"Detalhes")})})),n.createElement(X.a,{className:o.root,columns:[{field:"id",title:"ID",minWidth:10},{field:"tipo",title:"Tipo",minWidth:50},{field:"data",title:"Data",minWidth:50},{field:"bairro",title:"Bairro",minWidth:50},{field:"status",title:"Status",minWidth:50},{field:"acao",title:"",minWidth:50}],data:d,title:"Lista de avisos",localization:{pagination:{labelDisplayedRows:"{from}-{to} de {count}",labelRowsSelect:"linhas",labelRowsPerPage:"linhas por p\xe1gina"},toolbar:{nRowsSelected:"{0} linha(s) selecionadas",searchPlaceholder:"Pesquisar",searchTooltip:"Pesquisar"},header:{actions:"A\xe7\xf5es"},body:{emptyDataSourceMessage:"Sem registros para exibir",filterRow:{filterTooltip:"Filtro"}}}})}return n.createElement(re,null)}var de=a(200),pe=a(480),he=a(187),be=a(207),ge=a(85),Ee=a(434),ve=a(481),Oe=a(482),je=a(483),ye=Object(s.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},imagem:{maxHeight:"200px"},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function we(e){var t=ye();return e.imagens.length>0?r.a.createElement("div",{className:t.root},r.a.createElement(ve.a,{className:t.gridList,cols:2.5},e.imagens.map((function(e){return r.a.createElement(Oe.a,{key:e},r.a.createElement("img",{key:e,src:e,className:t.imagem}),r.a.createElement(je.a,{classes:{root:t.titleBar,title:t.title}}))})))):null}var xe=Object(s.a)((function(e){return{root:{padding:e.spacing(4),textAlign:"center"},formControl:{margin:e.spacing(1)},button:{margin:e.spacing(1)},erro:{color:"#ff0000"},textarea:{minWidth:"600px",minHeight:"100px"},rightIcon:{marginLeft:e.spacing(1)},title:{textAlign:"left",marginBottom:"2rem"}}}));function Ce(){var e=xe(),t=Object(n.useState)(null),a=Object(x.a)(t,2),r=a[0],o=a[1],c=Object(u.f)(),l=Object(n.useState)(!1),i=Object(x.a)(l,2),s=(i[0],i[1],Object(u.g)().pathname.split("/"));return Object(n.useEffect)((function(){(function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(s[2]);case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r?n.createElement(ge.a,{className:e.root},n.createElement(J.a,{variant:"h5",className:e.title},"Detalhes do aviso ",r.id),n.createElement(pe.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},n.createElement(pe.a,{item:!0,xs:12,md:3}),n.createElement(pe.a,{item:!0,xs:12,md:3},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"tipo"},"Tipo"),n.createElement(he.a,{readOnly:!0,id:"tipo",value:r.tipo}))),n.createElement(pe.a,{item:!0,xs:12,md:2},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"id"},"ID"),n.createElement(he.a,{readOnly:!0,id:"id",value:r.id}))),n.createElement(pe.a,{item:!0,xs:12,md:4}),n.createElement(pe.a,{item:!0,xs:12,md:8},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"Informant"},"Informante"),n.createElement(he.a,{readOnly:!0,id:"Informant",value:r.usuario_nome}))),n.createElement(pe.a,{item:!0,xs:12,md:4},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"data"},"Data/Hora"),n.createElement(he.a,{readOnly:!0,id:"data",value:ee()(r.dataHora).format("DD/MM/YYYY hh:mm")}))),n.createElement(pe.a,{item:!0,xs:12,md:8},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"email"},"Email"),n.createElement(he.a,{readOnly:!0,id:"email",value:r.usuario_email}))),n.createElement(pe.a,{item:!0,xs:12,md:4},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"telefone"},"Telefone"),n.createElement(he.a,{readOnly:!0,id:"telefone",value:r.usuario_telefone}))),n.createElement(pe.a,{item:!0,xs:12,md:6},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"logradouro"},"Endere\xe7o da ocorr\xeancia"),n.createElement(he.a,{id:"logradouro",value:r.logradouro}))),n.createElement(pe.a,{item:!0,xs:12,md:2},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"numero"},"N\xfamero"),n.createElement(he.a,{id:"numero",type:"number",value:r.numero}))),n.createElement(pe.a,{item:!0,xs:12,md:4},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"complemento"},"Complemento"),n.createElement(he.a,{readOnly:!0,id:"complemento",value:r.complemento}))),n.createElement(pe.a,{item:!0,xs:12,md:4},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(be.a,{htmlFor:"bairro",shrink:!0},"Bairro"),n.createElement(he.a,{id:"bairro",value:r.bairro}))),n.createElement(pe.a,{item:!0,xs:12,md:12},n.createElement(de.a,{fullWidth:!0,className:e.formControl},n.createElement(Ee.a,{rows:3,className:e.textarea,value:r.descricao,placeholder:"Descri\xe7\xe3o"}))),n.createElement(pe.a,{item:!0,xs:12},n.createElement(we,null)),n.createElement(pe.a,{item:!0,xs:12},n.createElement(Z.a,{onClick:function(){return c.push("/defesa-civil-contagem/Avisos")},variant:"contained",color:"primary",className:e.button},"Voltar para a lista")))):n.createElement(re,null)}var Ne=a(484),ke=a(485),Pe=a(486),Se=a(208),We=a(226),De=a.n(We),Fe=Object(s.a)((function(e){return{root:{position:"absolute",bottom:"2rem",right:"3rem"}}}));function Ie(){var e=T(),t=Fe();return Object(n.useEffect)((function(){e.showWarning&&setTimeout((function(){e.toggleShowWarning()}),3e3)}),[e.showWarning]),e.showWarning?n.createElement(Se.a,{className:t.root,color:"secondary",deleteIcon:n.createElement(De.a,null),label:"Para utilizar o sistema, fa\xe7a o login."}):null}var Ae=a(227),Be=a.n(Ae),Ye=Object(s.a)((function(e){return{button:{margin:e.spacing(1),color:e.palette.getContrastText("#f46524"),"&:hover":{backgroundColor:"#a54318"},backgroundColor:"#f46524"},card:{margin:"auto",maxWidth:345,minWidth:275}}}));function Te(){var e=Ye(),t=T(),a=Object(n.useState)(!1),r=Object(x.a)(a,2),o=r[0],c=r[1],l=Object(u.f)(),i=(Object(u.g)().state||{from:{pathname:"/"}}).from;return Object(n.useEffect)((function(){(function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,t.loginUsuario();case 3:l.replace(i),c(!1);case 5:case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),t.usuario&&t.apiKey?(l.push("/defesa-civil-contagem/Mapa"),null):n.createElement("div",{className:e.content},n.createElement(Ne.a,{className:e.card},n.createElement(ke.a,null,n.createElement(Pe.a,{component:"img",alt:"Defesa Civil de Contagem - MG",image:Be.a,title:"Defesa Civil de Contagem - MG"}),n.createElement(pe.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},n.createElement(pe.a,{item:!0},n.createElement(Z.a,{variant:"contained",type:"submit",className:e.button,onClick:function(){return c(!0)}},"Acessar"))))),n.createElement(Ie,null))}var Me=a(96);function Re(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=(t[0],t[1],Object(n.useState)(!1)),r=Object(x.a)(a,2),o=(r[0],r[1],Object(n.useState)(null)),c=Object(x.a)(o,2),l=(c[0],c[1],Object(n.useState)(null)),i=Object(x.a)(l,2),s=(i[0],i[1],Object(n.useState)(null)),u=Object(x.a)(s,2),m=(u[0],u[1],Object(Me.e)({googleMapsApiKey:"AIzaSyAFCWhrDp1Unfxx5TKCqlkEYx2xB5Tj-HU"})),f=m.isLoaded,d=m.loadError;return d?n.createElement("div",null,"Houve um problema no carregamento do mapa. Tente novamente em alguns instantes."):f?n.createElement("iframe",{src:"https://www.google.com/maps/d/u/0/embed?mid=1FoPYN3YEQcsF6rn_j7-0iVYF6K4e-24F&t=m&msa=b",width:"100%",height:"89%"}):n.createElement(re,null)}var ze=Object(s.a)((function(e){return{root:{padding:e.spacing(3,2)}}}));function Ve(){var e=ze(),t=Object(u.g)().pathname.substr(1);return n.createElement("div",null,n.createElement(ge.a,{className:e.root},n.createElement(J.a,{variant:"h5",component:"h3"},"P\xe1gina ",n.createElement("code",null,t)," n\xe3o encontrada.")))}var He=a(230);function Ke(e){var t=e.children,a=Object(He.a)(e,["children"]),n=T(),o=Object(u.f)();return n.usuario&&n.apiKey?r.a.createElement(u.a,Object.assign({},a,{render:function(){return t}})):(n.signout(),o.push("/defesa-civil-contagem/"),null)}var _e=a(477),Le=a(479),Ue=a(478),Je=a(488),qe=a(487),Ge=a(433),Ze=a(228),Qe=a.n(Ze);function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var $e=function(e,t){var a=Object(n.useState)(t),r=Object(x.a)(a,2),o=r[0],c=r[1],l=Object(n.useState)(t),i=Object(x.a)(l,2),s=i[0];i[1];return{handleChange:function(e){e.persist(),c((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,Object(O.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),e()},values:o,errors:s}},et=r.a.forwardRef((function(e,t){return r.a.createElement(Ge.a,Object.assign({direction:"up",ref:t},e))})),tt=Object(s.a)((function(e){return{root:{padding:e.spacing(10),margin:"5rem",textAlign:"center"},formControl:{margin:e.spacing(1)},button:{margin:e.spacing(1)},erro:{color:"#ff0000"},textarea:{minWidth:"600px",minHeight:"100px"},rightIcon:{marginLeft:e.spacing(1)},title:{marginBottom:"4rem"}}}));function at(e){var t=Object(u.f)(),a=tt(),o=Object(n.useState)(e.aviso),c=Object(x.a)(o,1)[0],l=Object(n.useState)(!1),i=Object(x.a)(l,2),s=i[0],m=i[1],f=$e((function(){c.status="Pendente",c.timestamp=c.timestamp,c.coordenadas={lat:c.coordenadas.lat,lng:c.coordenadas.lng},c.status="Processado",ue(c),t.push("/defesa-civil-contagem/Avisos")}),c),d=(f.errors,f.values,f.handleChange),p=f.handleSubmit,h=function(){m(!1)};return r.a.createElement("div",null,r.a.createElement(ge.a,{className:a.root},r.a.createElement(J.a,{variant:"h3",gutterBottom:!0,className:a.title},"Detalhes do aviso"),r.a.createElement("form",{onSubmit:p},r.a.createElement(pe.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:2},r.a.createElement(pe.a,{item:!0,xs:12,md:2},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"tipo"},"Tipo"),r.a.createElement(he.a,{name:"tipo",defaultValue:c.tipo,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:2},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"id"},"ID"),r.a.createElement(he.a,{readOnly:!0,name:"id",value:c.id,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:4}),r.a.createElement(pe.a,{item:!0,xs:12,md:8},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"nome"},"Informante"),r.a.createElement(he.a,{name:"usuario_nome",defaultValue:c.user_id.nome,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:4},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"dataHora"},"Data/Hora"),r.a.createElement(he.a,{readOnly:!0,name:"dataHora",value:ee()(c.dataHora).format("DD/MM/YYYY hh:mm"),onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:8},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"email"},"Email"),r.a.createElement(he.a,{readOnly:!0,name:"usuario_email",defaultValue:c.user_id.email,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:4},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"telefone"},"Telefone"),r.a.createElement(he.a,{name:"usuario_telefone",defaultValue:c.user_id.telefone,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:6},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"logradouro"},"Endere\xe7o da ocorr\xeancia"),r.a.createElement(he.a,{name:"aviso.endereco.rua",defaultValue:c.endereco.rua,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:2},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"numero"},"N\xfamero"),r.a.createElement(he.a,{type:"number",name:"aviso.endereco.numero",defaultValue:c.endereco.numero,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:4},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"complemento"},"Complemento"),r.a.createElement(he.a,{name:"aviso.endereco.complemento",defaultValue:c.endereco.complemento,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:4},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(be.a,{htmlFor:"bairro",shrink:!0},"Bairro"),r.a.createElement(he.a,{name:"aviso.endereco.bairro",defaultValue:c.endereco.bairro,onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12,md:12},r.a.createElement(de.a,{fullWidth:!0,className:a.formControl},r.a.createElement(Ee.a,{rows:2,className:a.textarea,name:"aviso.descricao",defaultValue:c.descricao,placeholder:"Descri\xe7\xe3o",onChange:d}))),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(we,{imagens:c.fotos})),r.a.createElement(pe.a,{item:!0,xs:12},r.a.createElement(Z.a,{onClick:function(){return t.push("/defesa-civil-contagem/Avisos")},variant:"contained",color:"secondary",className:a.button},"Voltar"),r.a.createElement(Z.a,{onClick:function(){m(!0)},variant:"contained",color:"primary",className:a.button},"Criar Chamado",r.a.createElement(Qe.a,{className:a.rightIcon})))))),r.a.createElement(_e.a,{open:s,TransitionComponent:et,keepMounted:!0,onClose:h},r.a.createElement(qe.a,{id:"alert-dialog-slide-title"},"Confirmar cria\xe7\xe3o de chamado"),r.a.createElement(Ue.a,null,r.a.createElement(Je.a,{id:"alert-dialog-slide-description"},"Deseja criar esse chamado?")),r.a.createElement(Le.a,null,r.a.createElement(Z.a,{onClick:h,color:"primary",className:a.button},"Cancelar"),r.a.createElement(Z.a,{type:"submit",onClick:p,color:"primary",className:a.button},"Confirmar"))))}function nt(){var e=Object(n.useState)(null),t=Object(x.a)(e,2),a=t[0],o=t[1],c=T(),l=Object(u.g)().pathname.split("/");return Object(n.useEffect)((function(){(function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(l[2],c.apiKey);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a?r.a.createElement(at,{aviso:a}):r.a.createElement(re,null)}var rt=a(229),ot=a.n(rt),ct=Object(s.a)((function(e){return{root:{display:"flex",height:"100vh",backgroundImage:"url(".concat(ot.a,")"),backgroundSize:"cover",overflowY:"auto"},main:{flexGrow:1,backgroundColor:"rgba(255, 255, 255, 0.7)",overflowY:"auto",height:"100%"},toolbar:e.mixins.toolbar}}));var lt=function(){var e=ct();return n.createElement("div",{className:e.root},n.createElement(Y,null,n.createElement(i.a,null),n.createElement(G,null),n.createElement(K,null),n.createElement("main",{className:e.main},n.createElement("div",{className:e.toolbar}),n.createElement(u.c,null,n.createElement(u.a,{exact:!0,path:"/defesa-civil-contagem",component:Te}),n.createElement(Ke,{exact:!0,path:"/defesa-civil-contagem/Avisos",component:fe}),n.createElement(Ke,{exact:!0,path:"/defesa-civil-contagem/Mapa",component:Re}),n.createElement(Ke,{exact:!0,path:"/defesa-civil-contagem/DetalhesAviso/:id",component:Ce}),n.createElement(Ke,{exact:!0,path:"/defesa-civil-contagem/ProcessarAviso/:id",component:nt}),n.createElement(u.a,{path:"*",component:Ve})))))};c.a.render(r.a.createElement(l.a,null,r.a.createElement(lt,null)),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.a4856b1c.chunk.js.map